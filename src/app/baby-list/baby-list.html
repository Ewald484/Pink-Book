<h1>Baby List</h1>

<button (click)="refreshList()">Refresh</button>
<button (click)="goToBabyForm()">Add New Baby</button>
{{babies.length}}
{{loading}}
<table>
    <thead>
        <tr>
            <th>File Number</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Date of Birth</th>
            <th>Hearing Test Date</th>
            <th>Payment Received</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        @if(!loading) {
        @for (baby of babies; track $index) {
        <tr [class.paid]="baby.payment_received">
            <td>{{ baby.file_number }}</td>
            <td>{{ baby.first_name }}</td>
            <td>{{ baby.last_name }}</td>
            <td>{{ baby.date_of_birth }}</td>
            <td>{{ baby.hearing_test_date }}</td>
            <td>{{ baby.payment_received ? 'Yes' : 'No' }}</td>
            <td>
                @if(!baby.payment_received) {
                <button (click)="markPayment(baby)">Mark Payment</button>
                <span>Paid</span>
                }

            </td>
        </tr>
        }
        }


    </tbody>
</table>